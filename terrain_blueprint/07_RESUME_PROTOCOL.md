# 07. Протокол Возобновления Работы (если контекст потерян)

## 1. С чего начинать любую новую сессию

1. Открыть `terrain_blueprint/00_INDEX.md`.
2. Перечитать `01_MOUNTAIN_SYSTEMS.md` и `06_IMPLEMENTATION_PLAN.md`.
3. Проверить, какой этап внедрения уже завершен.

## 2. Минимальная диагностика репозитория

Запускать в таком порядке:

1. `bun run wasm:build`
2. `bun run build`
3. `bun run gen:dump`

Если есть ошибки:

1. Фиксировать их в `09_WORKLOG.md`.
2. Не продолжать большие изменения, пока базовая сборка не стабильна.

## 3. Что обязательно проверять после правок алгоритма

1. Детерминизм для фиксированного сида.
2. Метрики качества до/после.
3. Визуально: отсутствие возврата к "обводке границ".
4. Визуально: отсутствие одинаковой прибрежной кромки по всей карте.

## 4. Формат фиксации прогресса

Для каждого шага писать:

1. Что было изменено.
2. Какие метрики изменились.
3. Что улучшилось визуально.
4. Какие артефакты появились.
5. Что следующий шаг.

## 5. Правила, которые не нарушать

1. Не компенсировать физические ошибки только пост-эффектами.
2. Не смешивать много новых механизмов в одном коммите без замеров.
3. Не удалять старую диагностику, пока новая не подтверждена.

## 6. Признак правильного направления

Если даже без агрессивного сглаживания:

1. Орогены широкие и сегментированные.
2. Глубины океана разнообразны.
3. Карта не выглядит как набор процедурных штампов.

Значит внедрение идет корректно.

