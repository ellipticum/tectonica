# 09. Worklog

## 2026-02-23

## Сделано

1. Создан модуль `docs/tectonics`.
2. Зафиксирована проблема «ломтиковых» плит как системный дефект геометрии.
3. Описана кинематика на полюсах Эйлера и классификация границ по `v_n/v_t`.
4. Зафиксирована физическая схема для конвергенции/дивергенции/трансформ/диффузных поясов.
5. Описана научная батиметрическая модель через `ocean_age` + age-depth law + boundary anomalies + sediment.
6. Добавлен набор primary references для калибровки.
7. Запущен первый этап внедрения в `rust/planet_engine/src/lib.rs`:
   - скорость плит переведена на эйлерову кинематику `v = (Ω × r) * R`,
   - классификация границ переведена на локальные `v_n/v_t`,
   - добавлены вторичные ядра роста плит для менее «ломтиковой» геометрии.
8. Добавлен этап «исторических ядер» (trajectory nuclei) вдоль направления движения плиты, чтобы форма плит отражала миграцию во времени, а не одношаговое разбиение.
9. Добавлена топологическая очистка мелких осколков плит:
   - абсолютный порог малых компонент,
   - относительный порог к крупнейшей компоненте каждой плиты.

## Наблюдения

1. Визуальные артефакты океана не лечатся фильтрами, пока нет `ocean_age`-модели.
2. «Ровные» горы и континенты — следствие статичной геометрии плит и тонких boundary-stroke uplift масок.
3. Для Earth-like результата нужно seed-ranking по метрикам, а не ручной перебор картинок.
4. После перехода на `Ω × r` нужна следующая фаза: эволюция контуров во времени (адвекция полигонов), иначе плиты все еще остаются кусочно-мозаичными.
5. Даже после очистки компонент остаются локальные микроплитные зоны; это ожидаемо для промежуточной схемы «field-based growth», но не является финальной физической моделью.

## Следующие шаги

1. Реализовать `plate_omega` и расчет `v_n/v_t` в Rust.
2. Перевести типизацию границ на кинематику.
3. Внедрить `ocean_age` и термальную батиметрию.
4. Подключить scoring из `06_DATASETS_AND_CALIBRATION.md`.
5. Реализовать time-step эволюцию `PlatePolygon(t)` и `BoundaryGraph(t)` вместо статичной генерации поля плит.
